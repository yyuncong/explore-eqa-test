# General
seed: 66
exp_name: vlm_exp_frontiers_ram_iou0.8_confidence0.02_recognize0.7
output_parent_dir: results
question_data_path: "generated_questions"
scene_dataset_config_path: "data/hm3d_annotated_basis.scene_dataset_config.json"
#scene_data_path: /home/yuncong/scene_understanding/data/versioned_data/hm3d-0.2/hm3d
scene_data_path_train: /project/pi_chuangg_umass_edu/yuncong/data_v2/scene_datasets/hm3d
scene_data_path_val: /work/pi_chuangg_umass_edu/yuncong/data/scene_datasets/hm3d
#semantic_bbox_data_path: /home/yuncong/scene_understanding/data/hm3d_obj_bbox_merged
semantic_bbox_data_path: '/home/yuncongyang_umass_edu/scene_understanding/hm3d_obj_bbox_merged'
dataset_output_dir: "exploration_data_success_incremental_ram"
#dataset_output_dir: "exploration_data_success_incremental_gt_class"
detection_model_name: "yolo_world/s"
recognize_model_path: /work/pi_chuangg_umass_edu/yuncong/ram_plus_swin_large_14m.pth

incremental: true

# Sampling navigation point
min_travel_dist: 5.0
min_travel_dist_ratio: 0.8

# Camera, image
camera_height: 1.5
camera_tilt_deg: -30
img_width: 720
img_height: 720
hfov: 120
tsdf_grid_size: 0.1
margin_w_ratio: 0.25
margin_h_ratio: 0.6

save_obs: false
save_visualization: false
save_frontier_video: false
save_tsdf_video: false
del_fail_case: false

save_clustering_process: true

paths_per_question: 1

# Navigation
init_clearance: 0.3
max_step_dist_ratio: 1.5
max_step_ratio: 2.5
extra_view_phase_1: 6
extra_view_angle_deg_phase_1: 50
extra_view_phase_2: 6  # in phase 2, have more observations
extra_view_angle_deg_phase_2: 50

# Snapshot
min_num_obj_threshold: 1

# Semantic map
explored_depth: 1.5
planner:
  unexplored_T: 2.0
  unoccupied_T: 2.0
  eps: 1
  max_dist_from_cur_phase_1: 1  # when the target object is not found, explore the frontiers with this step length
  max_dist_from_cur_phase_2: 0.5  # when the target object is found, go to the target object with this step length
  max_unexplored_check_frontier: 3
  max_unoccupied_check_frontier: 1
  final_observe_distance: 1.5  # in phase 2, find a place that is this far from the target object to observe it
  return_choice: true  # always set to true to return max_point
  surrounding_explored_radius: 0.7

  # about frontier selection
  frontier_edge_area_min: 4
  frontier_edge_area_max: 6
  frontier_area_min: 8
  frontier_area_max: 9
  min_frontier_area: 20  # the frontier should have at least this many pixels
  max_frontier_angle_range_deg: 150  # the angle spanned by the pixels in a frontier should not be larger than this
  min_frontier_angle_diff_deg: 0  # the angle between two frontiers should be larger than this. otherwise, merge them
  region_equal_threshold: 0.95

scene_graph:
  confidence: 0.003
  nms_threshold: 0.1
  iou_threshold: 0.5
  obj_include_dist: 2.5
  recognize_img_size: 384
  recognize_confidence: 0.7
  confidence_threshold: 0.02
  delete_tag_list_path: RAM/ram/data/ram_tag_list_deleted_index.pkl
  detection_measure: 'mixed'
  use_ram: true
  use_gt_class: false